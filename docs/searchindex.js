Search.setIndex({"alltitles": {"1 Code Modification": [[2, null]], "1 Installation": [[8, null]], "1.1 Preparation": [[8, "preparation"]], "1.1 Use Modified Code Based on CTSM5.2.005": [[2, "use-modified-code-based-on-ctsm5-2-005"]], "1.2 Manual Code Modifications for Specific CTSM Versions": [[2, "manual-code-modifications-for-specific-ctsm-versions"]], "1.2 Source Code Download": [[8, "source-code-download"]], "1.3 Build Model": [[8, "build-model"]], "2 Input Data": [[7, null]], "2 Surface Input": [[4, null]], "2.1 Define A Single Domain": [[7, "define-a-single-domain"]], "2.1 Prepare Default Surface Dataset": [[4, "prepare-default-surface-dataset"]], "2.2 Calculate LCZ fraction": [[4, "calculate-lcz-fraction"]], "2.2 Construct Grid Cell Boxes": [[4, "construct-grid-cell-boxes"]], "2.2 Run WPS": [[7, "run-wps"]], "2.3 Fit CTSM land fraction": [[4, "fit-ctsm-land-fraction"]], "2.3 Run create_scrip_file.ncl": [[7, "run-create-scrip-file-ncl"]], "2.4 Assign LCZ Urban Parameters": [[4, "assign-lcz-urban-parameters"]], "2.4 Run mkunitymap.ncl": [[7, "run-mkunitymap-ncl"]], "2.5 Run gen_domain": [[7, "run-gen-domain"]], "2.6 Run gen_mksurfdata_namelist": [[7, "run-gen-mksurfdata-namelist"]], "2.7 Run mksurfdata_esmf": [[7, "run-mksurfdata-esmf"]], "3 Simulation": [[5, null], [11, null]], "3.1 Run make_runtime_inputs": [[11, "run-make-runtime-inputs"]], "3.2 Modify namelist.input": [[11, "modify-namelist-input"]], "3.3 Run WRF-CTSM": [[11, "run-wrf-ctsm"]], "4 Nest Simulation": [[9, null]], "5 Restart Simulation": [[10, null]], "5.1 Set CTSM Restart": [[10, "set-ctsm-restart"]], "5.2 Run real.exe": [[10, "run-real-exe"]], "5.3 Run WRF-CTSM Restart Simulation": [[10, "run-wrf-ctsm-restart-simulation"]], "Build CTSM": [[8, "build-ctsm"]], "Build WPS": [[8, "build-wps"]], "Build WRF": [[8, "build-wrf"]], "Build geo_domain": [[8, "build-geo-domain"]], "Build mksurfdata_esmf": [[8, "build-mksurfdata-esmf"]], "CESM-LCZ User Guide": [[3, null], [3, null]], "Check the environment (optional)": [[8, "check-the-environment-optional"]], "Code Modification": [[2, "id2"]], "Contents": [[0, null]], "Coupling WRF and CTSM (WRF-CTSM)": [[1, "coupling-wrf-and-ctsm-wrf-ctsm"]], "Download CTSM code": [[8, "download-ctsm-code"]], "Download Source Code": [[2, "download-source-code"], [2, "id1"]], "Download WPS code": [[8, "download-wps-code"]], "Download WRF code": [[8, "download-wrf-code"]], "Homepage": [[0, null]], "Inquiry For Help & Collaboration": [[1, "inquiry-for-help-collaboration"]], "Install libraries": [[8, "install-libraries"]], "Introduction": [[1, null]], "Manipulate Restart Data": [[10, "manipulate-restart-data"]], "Modeling Urban Traffic Heat Flux in CESM": [[1, "modeling-urban-traffic-heat-flux-in-cesm"]], "Modify CTSM code": [[8, "modify-ctsm-code"]], "Modify WRF code": [[8, "modify-wrf-code"]], "Modify job script": [[5, "modify-job-script"]], "Modify lilac_in": [[10, "modify-lilac-in"]], "Modify lnd_in": [[10, "modify-lnd-in"]], "Prescribing Transient Urban Albedo in CESM (CESM-TranUrbAlb)": [[1, "prescribing-transient-urban-albedo-in-cesm-cesm-tranurbalb"]], "Replace Modified Files": [[2, "replace-modified-files"]], "Representing Urban LCZ Land Cover in CESM (CESM-LCZ)": [[1, "representing-urban-lcz-land-cover-in-cesm-cesm-lcz"]], "Set environment": [[8, "set-environment"]], "Support": [[1, "support"]], "Surface initial data": [[5, "surface-initial-data"]], "Useful Links": [[1, "useful-links"]], "WRF-CTSM User Guide": [[6, null], [6, null]]}, "docnames": ["index", "notebooks/introduction", "notebooks/projects/lcz/code_modification", "notebooks/projects/lcz/index", "notebooks/projects/lcz/inputdata", "notebooks/projects/lcz/simulation", "notebooks/projects/wrf-ctsm/index", "notebooks/projects/wrf-ctsm/inputdata", "notebooks/projects/wrf-ctsm/installation", "notebooks/projects/wrf-ctsm/nest_simulation", "notebooks/projects/wrf-ctsm/restart", "notebooks/projects/wrf-ctsm/simulation"], "envversion": {"sphinx": 64, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2}, "filenames": ["index.rst", "notebooks/introduction.md", "notebooks/projects/lcz/code_modification.md", "notebooks/projects/lcz/index.rst", "notebooks/projects/lcz/inputdata.md", "notebooks/projects/lcz/simulation.md", "notebooks/projects/wrf-ctsm/index.rst", "notebooks/projects/wrf-ctsm/inputdata.md", "notebooks/projects/wrf-ctsm/installation.md", "notebooks/projects/wrf-ctsm/nest_simulation.md", "notebooks/projects/wrf-ctsm/restart.md", "notebooks/projects/wrf-ctsm/simulation.md"], "indexentries": {}, "objects": {}, "objnames": {}, "objtypes": {}, "terms": {"": [2, 3, 7, 8, 10, 11], "0": [2, 3, 4, 6, 7, 8, 10, 11], "00": [4, 7, 10], "0000": 4, "00000": 10, "005": 3, "01": [4, 10], "024": [2, 6, 8], "025": 2, "03": 10, "04_00": 10, "05": 8, "07": 4, "09": 4, "0_2022_78pfts_c240930": 4, "0_r8": 8, "0d00": 8, "1": [0, 3, 6], "10": [1, 2, 4, 5, 10], "100": 4, "1029": 1, "10uxx4b9fmw3": 8, "11": [2, 4], "1149": 8, "12": [1, 2, 8, 11], "1200": 8, "124": 2, "128": 7, "129": 2, "12th": 1, "13": 2, "131": 8, "1366": 10, "139": 2, "14": [2, 4], "15": [2, 4], "152718": 8, "155": 2, "16": [1, 2, 4], "167": 2, "17": 4, "171": 4, "177": 4, "18": [2, 4], "1849": 5, "1_12_3": 8, "1_3_1": 8, "1_6_39": 8, "2": [0, 3, 6], "20": [2, 4, 8], "2020": 4, "2021": 2, "2022": [7, 10], "20220310": 10, "2023_78pfts_c250607": 7, "2024": 1, "2024ms004380": 1, "2025": [1, 4], "2025_c240930": 4, "21": 8, "2106": 5, "2106_c200605": 4, "2106_c240520": 5, "215": 2, "21sh": [], "21st": 1, "23": 4, "25": 4, "250510": [7, 11], "25_gx1v7_simyr1850_c240223": 10, "25_simyr1849": [4, 5], "25_simyr2020": 4, "26": 2, "26d00": 2, "27": 4, "28": 4, "291": 4, "293": 8, "29th": 1, "2_6_6": 8, "2_ssp5": [7, 11], "2x1": [7, 11], "3": [0, 2, 3, 6, 9], "30": [2, 4], "30th": 1, "32": [2, 4], "33": 4, "34": 8, "35": 4, "350": 4, "36000": 7, "37": 4, "370": 2, "38": 8, "39": [8, 11], "3_9_0": 8, "3d": 4, "4": [0, 2, 3, 6, 8, 11], "40": 2, "413": 2, "42": [4, 8], "43": 4, "4326": 4, "45": 4, "46": 4, "47": [2, 4], "48": 7, "4_0_2": 8, "4_2_5": 8, "4_6_1": 8, "4_9_2": 8, "5": [0, 2, 4, 6, 8, 11], "50": 4, "53": 4, "54": 4, "59": 4, "593": 2, "5_2022": 7, "5_2022_78pfts_c250607": [7, 11], "6": [2, 4, 6, 8, 11], "60": [4, 7], "61": 4, "628": 2, "63": 2, "65": 4, "66": 4, "6x3": 7, "7": [2, 4, 6, 8], "70": 4, "700": 8, "74": 8, "75": 4, "8": [2, 4, 7, 8, 11], "80": [2, 4], "81": 7, "82": 4, "86": 2, "88": 4, "896": 2, "8_8_1": 8, "9": [2, 8, 11], "90": 4, "91": 4, "95": [2, 4], "9x1": [4, 5, 10], "A": [1, 6], "As": 9, "By": 8, "For": [0, 2, 4, 7, 8], "IF": 8, "IN": 8, "If": [2, 4, 5, 7, 8], "In": [2, 4, 9, 10], "NOT": [2, 8], "OR": 8, "Or": 7, "THEN": 8, "TO": 8, "That": 4, "The": [1, 2, 4, 5, 7, 8, 9, 10, 11], "Then": [7, 11], "These": [2, 8], "To": [2, 8, 9, 10, 11], "__dict__": 4, "__doc__": 8, "__file__": 8, "__line__": 2, "__main__": 8, "__name__": 8, "_data": 11, "_main": 8, "abov": 2, "absolut": 11, "abspath": 8, "access": 1, "accord": 8, "account": [4, 7], "accumulate_count": 2, "action": 8, "activ": [2, 4], "ad": 8, "adapt": [1, 8], "add": [2, 4, 10, 11], "add_argu": 8, "addit": 4, "advanc": 1, "aerosol_": 11, "affin": 4, "after": [2, 4], "aggreg": 4, "air": 4, "al": [1, 2], "alb_improad": 4, "alb_improad_dif": 4, "alb_improad_dir": 4, "alb_perroad": 4, "alb_perroad_dif": 4, "alb_perroad_dir": 4, "alb_roof": 4, "alb_roof_dif": 4, "alb_roof_dir": 4, "alb_vari": 4, "alb_wal": 4, "alb_wall_dif": 4, "alb_wall_dir": 4, "albedo": 0, "align": 10, "all": [4, 8, 9], "alloc": 2, "allocat": 2, "also": 7, "altern": 4, "alwai": 8, "an": [1, 4], "ani": [8, 10], "aog": 1, "aound": 2, "append": [4, 8], "appli": 4, "ar": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "arch_loc": 8, "archer2": 7, "archiv": 11, "area": 4, "arg": 8, "argcnt": 8, "argpars": 8, "argument": [2, 8], "argumentpars": 8, "argv": 8, "around": [2, 8], "arrai": 4, "arw": [7, 11], "assign": 3, "atm_mesh_filenam": 11, "atmospher": 8, "attempt": 8, "attribut": 8, "author": [1, 2, 4, 5, 7, 8, 9, 10, 11], "automat": 11, "axi": 4, "b": [], "band": 4, "band_list": 4, "base": [3, 4, 5, 6, 9, 10], "bash": [7, 11], "basic": [2, 8, 11], "bbox": 4, "befor": 8, "begg": 2, "below": [2, 4, 8], "bin": [2, 7, 8, 11], "biomass": 2, "bld": [2, 4], "block": 7, "bottom": [2, 4, 7, 8], "bound": 4, "boundari": 9, "bounds_clump": 2, "box": [3, 11], "boz": 8, "branch": 2, "budget": 2, "build": [2, 4, 6], "build_ctsm": 8, "buildtool": 8, "built": 8, "button": 7, "c": [8, 11], "calcul": 3, "calendar": 4, "call": [2, 8], "camtr_volume_mixing_ratio": 11, "can": [2, 4, 8], "canopi": 2, "canyon_hwr": 4, "case": [2, 4, 7, 9, 10, 11], "case_dir": [7, 11], "caseid": 10, "caseinput_dir": [7, 11], "casenam": [7, 11], "caserun_dir": 11, "categori": [2, 4], "cc": [8, 11], "ccomp": 8, "ccs_config": 8, "cd": [2, 7, 8, 11], "cell": [2, 3, 5], "cell_box": 4, "certain": 4, "cesm": [0, 2, 5, 7, 10, 11], "cesm_inputdata": [7, 10], "cesm_root": [7, 11], "cfg": 11, "chang": [2, 3, 4, 6, 8, 10], "charact": 2, "check": 10, "check_sum": 4, "checkout": [2, 8], "checkout_extern": 2, "chem": 8, "child": 9, "chkvar": 8, "chmod": 8, "choic": 8, "choos": 8, "ci": 2, "cime": 8, "cime_model": 8, "cimeroot": 8, "ciso": 10, "class": [4, 5], "classif": [2, 4], "clean": 8, "clean_onli": 8, "click": 7, "climat": [0, 1, 2, 4], "clip": 4, "clm": 8, "clm2": [4, 10], "clm5": [3, 6], "clm_inparm": [2, 4], "clm_physic": 2, "clm_varctl": [2, 8], "clmi": 10, "clone": [2, 8], "cmake": 8, "code": [0, 3, 6], "codebas": 2, "cold": 5, "collabor": 0, "collaps": 4, "collapse_urban": [4, 5], "column": [2, 4], "com": [2, 8], "come": 10, "command": 8, "commun": [1, 2], "comp": 8, "comp_interfac": 8, "compar": [3, 6], "compat": [2, 3, 6], "compil": [8, 11], "complet": 8, "compon": [2, 3], "condit": [4, 9, 11], "config": 8, "config_machin": 8, "configur": [7, 8, 10, 11], "configure_wrf": 8, "constant": 2, "construct": 3, "contain": [4, 5, 7], "content": 7, "continu": 8, "contrib": 7, "controlmod": 2, "convers": 10, "coord": 4, "coordin": 4, "copi": 8, "correspond": 2, "cost": 5, "count": 4, "coupl": 0, "coupler": 2, "cover": [0, 5], "cp": 11, "cpath": [8, 11], "cpl": [2, 8], "cppflag": [8, 11], "cpu": 7, "cr": 4, "creat": [1, 2, 4, 7, 8], "create_scrip_fil": [6, 8], "createdimens": 4, "createvari": 4, "crop": 4, "csh": 8, "cstm": 10, "ctsm": [0, 3, 7, 9], "ctsm5": [3, 6, 8, 10], "ctsm52_tbuildmax_lcz_0": 4, "ctsm52_tbuildmax_olesonfeddema_2020_0": [4, 5], "ctsm_build_dir": [8, 11], "ctsm_build_environ": 8, "ctsm_includ": 8, "ctsm_lilac": 10, "ctsm_lilac0": 10, "ctsm_lilac1": 10, "ctsmbranch": 8, "ctsmdev": [2, 7, 8, 11], "ctsminput_dir": [7, 11], "ctsmname": [2, 7, 8, 11], "ctsmv5": 6, "current": [2, 3, 4, 5, 8], "custom": [4, 8], "cv_improad": 4, "cv_roof": 4, "cv_wall": 4, "cxx": [8, 11], "d": 4, "d0": 9, "d01": [7, 9, 10], "d02": 9, "d03": 9, "d04": 9, "dai": 4, "data": [0, 1, 3, 4, 6, 9, 11], "dataarrai": 4, "dataset": [3, 11], "datatyp": 4, "date": 7, "date2num": 4, "debug": 8, "debug_cod": 8, "decomposit": 2, "def": 8, "default": [2, 3, 5, 8, 11], "defin": [4, 5, 6, 11], "denot": 2, "densiti": 2, "depend": [2, 8], "depth": 2, "describ": [7, 9], "descript": [2, 8], "determin": 2, "dev": 0, "develop": [3, 10], "dfseeko64_ok": 8, "differ": [4, 10], "dim": 4, "dim_nam": 4, "dimens": [4, 8], "dimension": 4, "dir": [7, 8], "direct": 4, "directli": [2, 11], "directori": [8, 10], "dirnam": 8, "disabl": [4, 8], "discuss": 1, "discusscesm": 1, "distribut": [7, 8], "district": 2, "dm_cc": 8, "dmpar": 8, "dno_flush_support": 8, "dno_gamma_support": 8, "dno_ieee_modul": 8, "dno_iso_c_support": 8, "dnonstandard_system_subr": 8, "do": [2, 4, 5], "document": [0, 3, 6, 10], "doe": [8, 11], "doi": [], "domain": [6, 9, 11], "domin": [4, 5], "download": [4, 6, 7], "downscal": 9, "driver": 8, "drv_flds_in": 11, "ds_all": 4, "ds_crop": 4, "ds_lat": 4, "ds_lcz_nc": 4, "ds_lon": 4, "ds_mesh": 4, "ds_std": 4, "ds_std_nc": 4, "ds_std_tmax": 4, "ds_templat": 4, "dtype": 4, "dummi": 4, "dwrf_use_ctsm": 8, "dx": 7, "dy": 7, "dyn_subgrid": 2, "dynam": 9, "dyninitcolumnsmod": 2, "e": [2, 3, 4, 6, 8, 9, 11], "e2024ms004380": 1, "each": [2, 4, 5, 8], "earlier": [3, 6], "earth": [0, 1], "echo": [5, 7], "edit": 11, "effect": 4, "effici": 5, "either": 8, "elementmask": 7, "elif": [4, 8], "els": [2, 4, 8], "em_improad": 4, "em_perroad": 4, "em_real": 8, "em_roof": 4, "em_wal": 4, "enabl": [2, 5, 11], "end": [2, 5, 7, 8], "end_year": 7, "endg": 2, "endif": 8, "endrun": 2, "energi": 2, "enhanc": 1, "ensur": [2, 4], "entri": [2, 4], "enumer": 4, "env": 8, "env_mach_specif": [7, 8], "environ": 11, "eq": 8, "err": 7, "errmsg": 2, "error": [7, 8], "escomp": [2, 8], "esm": 0, "esmf": [7, 8, 11], "esmf_lib_flag": 8, "esmf_mod_inc": 8, "esmf_scrip2unstruct": 7, "esmfdir": [7, 8, 11], "esmftool": 7, "et": [1, 2], "everi": 4, "ex": [6, 8, 9, 11], "exampl": [4, 7, 8], "excut": 8, "exist": [2, 4, 8], "exit": [7, 8], "expect": 8, "experiment": 10, "export": [2, 7, 8, 10, 11], "extern": 8, "extract": [4, 9], "f": [4, 8], "f19_interp_from": 10, "f4": 4, "f90": [2, 8], "fall": 4, "fallow": 8, "fals": [2, 4, 8, 10], "fang": [], "fates_maxelementspersit": 2, "fatesinterfacetypesmod": 2, "fc": [8, 11], "fccompat": 8, "fcflag": [8, 11], "featur": 4, "fi": 7, "file": [4, 7, 8, 10, 11], "file_": 8, "file_path": 4, "fill_this_in": 11, "finidat": [10, 11], "first": [4, 8], "fit": [3, 5], "flag": [2, 8], "fleximod": [2, 8], "float32": 4, "flux": [0, 4], "follow": [2, 4, 5, 7, 8, 9, 10, 11], "forc_q_not_downscaled_grc": 8, "format": [4, 8], "fortran": [2, 8, 11], "forum": 1, "found": 4, "four": 8, "fraction": [3, 5], "frame": 8, "from": [2, 4, 5, 7, 8, 9, 10, 11], "from_epsg": 4, "fsurdat": [5, 11], "function": [], "g": [3, 6, 8, 11], "gcc": [8, 11], "gdc": 2, "gdf": 4, "gen_domain": [6, 8], "gen_domain_fil": [7, 8], "gen_mksurfdata_build": 8, "gen_mksurfdata_namelist": 6, "gener": [4, 7, 8, 9, 10, 11], "geo_em": [7, 9], "geodatafram": 4, "geogrid": 8, "geometri": 4, "geometry_mask": 4, "geopanda": 4, "geospati": 4, "get": [7, 9], "get_default_compil": 8, "get_default_mpilib": 8, "get_model": 8, "get_valu": 8, "getcwd": 8, "getlogg": 8, "gfortran": [8, 11], "gi": 2, "git": [2, 8], "github": [1, 2, 8], "given": 8, "glacier": 4, "global": [1, 4, 5], "gnu": 8, "go": 7, "gpd": 4, "graham": 2, "grc": 2, "grid": [2, 3, 5, 7, 8], "grid_cel": 4, "grid_center_lat": 8, "grid_center_lon": 8, "grid_corner_lat": [4, 8], "grid_corner_lon": [4, 8], "grid_imask": 8, "grid_siz": 4, "gridcel": 4, "gridcelltyp": 2, "gridfil": 7, "gridfile1": 7, "gridfile2": 7, "group": [1, 2, 4], "guarante": 10, "guid": [0, 1, 7, 11], "guidanc": 11, "h": 2, "ha": 4, "half_gridcel": 4, "have": [2, 4, 5], "hdf5": [8, 11], "hdf5dir": [8, 11], "hdf5path": 8, "heat": [0, 2], "help": [0, 8], "here": 9, "hfx": 8, "high": [2, 4, 5, 9], "hint": 7, "hold": 4, "home": [8, 11], "home_path": 4, "hour": 7, "howev": [4, 6], "hpc": [1, 8], "ht_roof": 4, "http": [2, 7, 8], "humidti": 8, "i": [2, 3, 4, 5, 7, 8, 9, 10, 11], "i1850clm50bgccrop": 10, "i4": 4, "icuc": 1, "id": [2, 4], "ident": 8, "ie": 4, "ier": 2, "implement": 2, "import": [4, 8], "improv": 1, "inc": 8, "includ": [2, 4, 8, 11], "include_modul": 8, "index": 2, "indic": 4, "indoor": 4, "infil": 8, "inform": [4, 8, 10], "infrastructur": [2, 3, 6], "init_generated_fil": 11, "initdata_esmf": 10, "initgridcellsmod": 2, "initi": [3, 8, 10, 11], "inner": 9, "innermost": 9, "input": [0, 1, 3, 5, 6, 8, 9, 10], "input_fil": 4, "input_path": 7, "inputdata": [4, 5], "inquiri": 0, "inroot": [8, 11], "insert": 8, "instal": [0, 6], "instead": [5, 11], "instruct": 7, "integ": 2, "intend": 2, "intent": 2, "interfac": 8, "interior": 4, "interplot": 10, "interpol": 11, "introduc": [3, 6], "introduct": 0, "invalid": 8, "invert": 4, "io": [], "io_int": 8, "io_netcdf": 8, "is_valid_compil": 8, "is_valid_mpilib": 8, "isdir": 8, "isel": 4, "isfil": 8, "isn": 8, "issu": [1, 8, 10], "isturb_hd": 2, "isturb_lcz1": 2, "isturb_lcz10": 2, "isturb_lcz11": 2, "isturb_lcz2": 2, "isturb_lcz3": 2, "isturb_lcz4": 2, "isturb_lcz5": 2, "isturb_lcz6": 2, "isturb_lcz7": 2, "isturb_lcz8": 2, "isturb_lcz9": 2, "isturb_max": 2, "isturb_md": 2, "isturb_min": 2, "isturb_tbd": 2, "istwet": 2, "item": 4, "ityp": 2, "iulog": 2, "j": [4, 8], "jasper": [8, 11], "jasperdir": [8, 11], "jasperpath": 8, "job": [1, 3, 7, 10], "join": 8, "journal": 1, "k": 4, "km": 7, "l": [7, 8, 11], "lake": [4, 8], "lake_depth": 8, "lakemask": 8, "land": [0, 2, 3, 5, 7, 8], "landmask": [4, 8], "landmeshfil": 7, "landunit": [2, 4], "landunit_nam": 2, "landunit_name_length": 2, "landunit_varcon": 2, "landunit_varcon_init": 2, "landunittyp": 2, "landus": 7, "languag": 2, "lapack": 8, "lapackpath": 8, "largest": 2, "lat": 4, "lat_max": 4, "lat_min": 4, "latest": 2, "latitud": 4, "latixi": 4, "layer": 8, "lbla": 8, "lcz": [0, 2, 5], "lcz1": 2, "lcz10": 2, "lcz2": 2, "lcz3": 2, "lcz4": 2, "lcz5": 2, "lcz6": 2, "lcz7": 2, "lcz8": 2, "lcz9": 2, "lcz_mcr": 4, "lcz_string": 4, "ld_library_path": [8, 11], "ldflag": [8, 11], "ldl": 8, "left": 4, "len": [2, 4, 8], "length": 2, "less": 8, "lf": 8, "lgomp": 8, "lhdf5": 8, "lhdf5_hl": 8, "li": 2, "lib": [8, 11], "lib_extern": 8, "libpng": [8, 11], "libpngdir": [8, 11], "libpngpath": 8, "library_path": [8, 11], "like": 7, "lilac": [1, 8, 10, 11], "lilac_atmcap_input": 11, "lilac_dir": 11, "lilac_in": 11, "lilac_lnd_input": 11, "line": [2, 8], "link": [0, 8], "linux": 8, "list": [2, 8], "ljasper": 8, "llapack": 8, "lm": 8, "ln": [7, 10, 11], "lnd": [4, 7, 10, 11], "lnd_comp_esmf": 8, "lnd_domain_fil": 11, "lnd_import_export_util": 8, "lnd_in": 11, "lnd_mesh": [7, 11], "lnd_mesh_filenam": 11, "lnd_modelio": 11, "lnetcdf": 8, "lnetcdff": 8, "load": 8, "local": [1, 2], "log": [7, 8, 11], "logger": 8, "logic": [2, 4], "lon": 4, "lon_max": 4, "lon_min": 4, "long": 7, "long_nam": 4, "longitud": 4, "longxi": 4, "look": 4, "lower": 8, "lpnetcdf": 8, "lpng": 8, "lsmlat": 4, "lsmlon": 4, "lt": 8, "ltype": 2, "lu_index": 8, "lun": 2, "lwrfio_nf": 8, "lz": 8, "m": [2, 4, 7], "mach": 8, "machin": 8, "machineanm": 8, "machinenam": 8, "machines_dir": 8, "machines_fil": 8, "machobj": 8, "macro": 8, "macros_format": 8, "mai": [2, 3, 4, 6, 8], "main": [2, 8], "major": [3, 6], "make": [7, 8], "make_runtime_input": 6, "makefil": 8, "man": [8, 11], "manage_extern": 2, "manipul": 4, "manpath": [8, 11], "manual": 3, "map": [4, 7, 8], "mapfil": 7, "marker": 2, "mask": [4, 8], "mask_": 7, "mask_lnd_mesh": [7, 11], "masked_pixel": 4, "matrix": 4, "max": [2, 4, 8], "max_lunit": 2, "max_tillage_depth": 2, "maxi": 4, "maximum": [2, 4], "maxx": 4, "mct": [2, 8], "md": 2, "mean": [4, 7, 9], "medium": 2, "meet": 1, "memori": [2, 8], "mesh": 7, "met_em": [7, 9], "metgrid": 8, "method": 0, "min": [4, 8], "mini": 4, "minut": 8, "minx": 4, "mismatch": 8, "mk": 8, "mkdir": 11, "mksurfdata": 7, "mksurfdata_esmf": [4, 6], "mksurfdata_jobscript_singl": 7, "mkunitymap": [6, 8], "mod": [8, 11], "mode": 4, "model": [0, 2, 4, 5, 6, 7, 9, 11], "model_year_align_urbantv": 5, "modif": [0, 3], "modifi": [3, 4, 6, 7], "modul": 8, "module_sf_mynn": 8, "module_srch_flag": 8, "more": 4, "mosaic": 4, "most": 11, "mpa": 1, "mpi": 8, "mpi_bcast": 2, "mpi_log": 2, "mpicc": 8, "mpich": [8, 11], "mpichdir": [8, 11], "mpicom": 2, "mpilib": 8, "mpirun": 11, "msg": 2, "multi": [7, 11], "multipl": [4, 8], "must": 8, "mv": [7, 11], "mxsoil_color": 4, "mynn": 8, "n02": [7, 10], "n_a": 8, "n_b": 8, "name": [2, 4, 7, 8], "namelist": [2, 6, 7, 8, 10], "namelist_defaults_ctsm": 11, "namelist_definit": 2, "namelist_definition_ctsm": [2, 4], "namelist_fil": [2, 4], "natur": 4, "nc": [4, 5, 7, 8, 9, 10, 11], "ncap2": [7, 10], "ncar": 4, "ncb": 8, "nck": 8, "ncl": [6, 8], "nco": 8, "ncol": 2, "ncols_temp": 2, "ndown": [8, 9], "ne": 8, "need": [2, 4, 5, 10, 11], "neg": 8, "nest": [0, 6, 7, 8, 11], "net": 7, "netcdf": [8, 11], "netcdf3_class": 4, "netcdf4": 4, "netcdf_c": 8, "netcdf_class": 8, "netcdfc": 8, "netcdfcdir": [8, 11], "netcdff": 8, "netcdffdir": [8, 11], "netcdfpath": 8, "new": [8, 10], "newaxi": 4, "nf": 8, "nlev_improad": 4, "nlevurb": 4, "nlunit": 2, "nlunits_temp": 2, "nml": 11, "node": 7, "nohup": 8, "noleap": 4, "nomultithread": 7, "non": 4, "none": [4, 8], "norwai": 8, "note": [2, 3, 4, 6, 8, 11], "noth": 4, "noveg": 2, "now": 8, "np": [4, 11], "npatch": 2, "npatches_temp": 2, "nrevsn": 10, "nsrbranch": 8, "nsrcontinu": 8, "nsrest": 8, "nsrstartup": 8, "ntask": 7, "num_restart": 10, "numband": 4, "number": [2, 4], "numpi": 4, "numrad": 4, "numurbl": [2, 4], "nv": 4, "nx": 7, "ny": 7, "o": [4, 7, 8, 10], "obtain": 2, "occurr": 4, "ocn": 7, "off": 10, "offici": [7, 9, 10, 11], "old": 8, "oleson": [], "omp_num_thread": [7, 11], "one": [9, 11], "ones": [8, 11], "onli": [2, 3, 8], "onlin": [7, 11], "open": [1, 4], "open_dataset": 4, "opt": 8, "option": [2, 4, 5], "org": [], "origin": [2, 9], "our": 4, "out": [2, 7, 11], "out_shap": 4, "outer": 9, "output": [1, 4, 7, 8], "output_dir": 8, "output_fil": 4, "output_filenam": 4, "overrid": 8, "overwrit": 7, "own": [8, 11], "ozon": 11, "paper": 1, "parallel": 8, "paramet": [2, 3, 7], "parent": 9, "parse_arg": 8, "parse_args_and_handle_standard_logging_opt": 8, "parse_command_lin": 8, "parser": 8, "partit": 7, "pass": [8, 9], "patch": 2, "path": [4, 8, 11], "pct": 4, "pct_crop": 4, "pct_da": 4, "pct_glacier": 4, "pct_lake": 4, "pct_natveg": 4, "pct_ocean": 4, "pct_urban": 4, "pct_valu": 4, "pct_wetland": 4, "per": 7, "percent": 4, "percentag": 4, "period": 5, "pftconmod": 2, "phy": 8, "physic": [2, 4], "pi": 2, "piec": 8, "pio": [8, 11], "piodir": [8, 11], "pixel": 4, "pixel_mask": 4, "pleas": [1, 3, 4, 6, 7, 9, 10, 11], "pnetcdf": [8, 11], "pnetcdfdir": [8, 11], "pnetcdfpath": 8, "point": 4, "polygon": 4, "possibl": 1, "pre": 8, "prepar": [3, 6], "prescrib": 0, "present": 1, "prev_lilac_nam": 10, "prev_restart_dir": 10, "previou": 10, "print": [7, 8], "procedur": 10, "program": 2, "project2": 5, "properti": 2, "provid": [2, 4, 5, 7, 8, 9, 10, 11], "psiq": 8, "psiq2": 8, "public": 2, "pylint": 8, "pyproj": 4, "python": 4, "python3": 8, "q2": 8, "qo": 7, "qsfc": 8, "qsfcmr": 8, "query_config": 8, "qv1d": 8, "r": [4, 10], "ran": 7, "rang": 4, "rasterio": 4, "rather": [8, 11], "raw": 7, "rawdata": 7, "rcp8": 11, "re": 7, "read": 4, "real": [2, 6, 8, 9], "real_file_dir": 8, "realist": 4, "realpath": 8, "recommend": [2, 8, 11], "rectangular": 4, "refer": [4, 5, 7, 9, 11], "regardless": 8, "region": [4, 7], "relat": 2, "releas": 8, "remov": [2, 4, 8], "renam": 9, "replac": 4, "repoint": 10, "repositori": 1, "repres": [0, 4, 5], "represent": [1, 4, 5], "requir": [2, 4, 7], "research": 0, "reshap": 4, "resolut": [4, 5, 7, 9], "resourc": [7, 11], "respect": 8, "respond": 1, "rest": 4, "restart": [0, 6, 8], "restart_": 10, "restart_d": 10, "return": [2, 8], "right": 4, "rm": 7, "round": 4, "rpointer": 10, "run": [5, 6, 8, 9], "runs_ctsm": [7, 10], "runtim": 8, "runtime_input": [8, 11], "safe": 8, "same": 8, "save": 7, "sbatch": 7, "scale": 1, "scc": 8, "scheme": 5, "schultz": [], "scrip": 8, "scripgrid_": 4, "scripgrid_001x001_mcr_nomask_c240930": 4, "script": [1, 2, 3, 4, 7, 8, 9, 10, 11], "scripyt": 10, "second": 8, "section": [2, 7, 11], "see": 8, "select": [2, 4], "sent": 8, "separ": [4, 7, 11], "seri": [4, 7], "set": [2, 5, 6, 11], "set_landunit_urban": 2, "setncatt": 4, "setup": 8, "setup_standard_logging_opt": 8, "sf": [7, 10, 11], "sf_surface_phys": 11, "sfc": 8, "sfclayer": 8, "sh": [7, 8], "shape": 4, "share": [0, 8, 11], "share_esmf": 2, "should": [2, 4, 7, 8, 11], "shr_assert": 2, "shr_const_mod": 2, "shr_const_pi": 2, "shr_sys_abort": 8, "sigma2": 1, "similar": 6, "simul": [0, 1, 3, 4, 6, 7], "sinc": 4, "singl": [4, 5, 6, 9, 11], "site_and_region": [4, 7, 8], "size": 4, "skip": 8, "slice": 4, "slurm_cpus_per_task": 7, "softwar": [8, 11], "soil": 2, "soon": 1, "sourc": 6, "sourcefil": 2, "space": 7, "spatial": 4, "specif": [3, 8], "specifi": [8, 11], "spin": 5, "src": [2, 4, 8], "srun": 7, "standard": 7, "standard_script_setup": 8, "start": [5, 7], "start_": 10, "start_year": 7, "start_ymd": 10, "starttyp": 8, "startup": 8, "step": 4, "storag": 2, "store_tru": 8, "stream": [4, 5], "stream_fldfilename_urbantv": 5, "stream_meshfile_urbantv": 2, "stream_varnam": 2, "stream_varname_max": 2, "stream_year_first_urbantv": 5, "stream_year_last_urbantv": 5, "sub_dir": 11, "subgrid_get_info_urban": 2, "subgrid_get_info_urban_hd": 2, "subgrid_get_info_urban_lcz1": 2, "subgrid_get_info_urban_lcz10": 2, "subgrid_get_info_urban_lcz2": 2, "subgrid_get_info_urban_lcz3": 2, "subgrid_get_info_urban_lcz4": 2, "subgrid_get_info_urban_lcz5": 2, "subgrid_get_info_urban_lcz6": 2, "subgrid_get_info_urban_lcz7": 2, "subgrid_get_info_urban_lcz8": 2, "subgrid_get_info_urban_lcz9": 2, "subgrid_get_info_urban_md": 2, "subgrid_get_info_urban_tbd": 2, "subgridmod": 2, "subnam": [2, 8], "subroutin": 2, "successfulli": [7, 8], "successulli": 8, "suit": 8, "suitabl": 9, "sum": 4, "sun": [0, 1], "support": [0, 8], "surf": 5, "surfac": [0, 1, 3, 7, 9, 11], "surfdata": [7, 8], "surfdata_001x001_mcr_lcz_2022_78pfts_c240930": 4, "surfdata_001x001_mcr_ssp3": 4, "surfdata_1": [7, 11], "suspici": 8, "svn": 7, "sy": 8, "system": [0, 1, 2, 4, 8], "t": 8, "t_building_lcz": 4, "t_building_max": [4, 5], "t_building_min": 4, "tabl": 4, "tailor": 4, "take": [7, 8], "tall": 2, "target": 4, "task": 7, "tbl": 11, "tbuilding_min": 4, "tbuildmax_": 4, "tbuildmax_hd": 2, "tbuildmax_lcz1": 2, "tbuildmax_lcz10": 2, "tbuildmax_lcz2": 2, "tbuildmax_lcz3": 2, "tbuildmax_lcz4": 2, "tbuildmax_lcz5": 2, "tbuildmax_lcz6": 2, "tbuildmax_lcz7": 2, "tbuildmax_lcz8": 2, "tbuildmax_lcz9": 2, "tbuildmax_md": 2, "tbuildmax_tbd": 2, "tc": 8, "team": 10, "tee": 11, "temperatur": 4, "terrestri": 2, "testsingledomain": [7, 11], "than": [8, 11], "thei": 2, "them": 8, "therefor": 10, "thi": [2, 3, 4, 5, 6, 7, 8, 9, 10], "thick_roof": 4, "thick_wal": 4, "three": [4, 7, 8], "through": 1, "thu": 5, "tif": 4, "tiff": 4, "tile": 4, "till": 2, "tillage_inparm": 2, "time": [4, 5, 7, 8, 10], "time_bnd": 4, "time_bnds_unit": 4, "time_bnds_valu": 4, "time_unit": 4, "time_valu": 4, "timemgr_rst_ref_ymd": 10, "timemgr_rst_start_ymd": 10, "timeseries_1": 7, "tk_cv_variabl": 4, "tk_improad": 4, "tk_roof": 4, "tk_wall": 4, "tool": [4, 7, 8], "tool_bld": 7, "top": 4, "total_pixels_in_cel": 4, "touch": 8, "tr": 11, "traffic": 0, "transform": 4, "transient": 0, "transienturbanalbedo": [], "tranurbalb": 0, "trim": 8, "true": [2, 4, 5, 7, 8, 10, 11], "try": 1, "turn": 10, "tutori": [1, 7, 8, 9, 11], "two": 4, "txt": 11, "type": [2, 4], "ulimit": 11, "under": 8, "understand": 2, "ungrib": 8, "unintention": 2, "unit": [2, 4], "unknown": 2, "unlimit": 11, "unset": 11, "unstructur": 7, "uom": [], "up": [4, 5], "updat": [2, 8], "urban": [0, 2, 3, 5], "urban_explicit_ac": 2, "urban_hd": 2, "urban_landunit_exist": 2, "urban_lcz1": 2, "urban_lcz10": 2, "urban_lcz11": 2, "urban_lcz2": 2, "urban_lcz3": 2, "urban_lcz4": 2, "urban_lcz5": 2, "urban_lcz6": 2, "urban_lcz7": 2, "urban_lcz8": 2, "urban_lcz9": 2, "urban_md": 2, "urban_tbd": 2, "urban_vari": 4, "urbandata": 4, "urbanparamstyp": 2, "urbantimevartyp": 2, "us": [0, 3, 4, 5, 7, 8, 9, 10, 11], "use_biomass_heat_storag": 2, "use_init_interp": [10, 11], "use_lcz": [2, 5], "use_z0m_snowmelt": 2, "user": [0, 1, 2, 4, 7, 8, 11], "user_nl_clm": [4, 5], "user_nl_ctsm": 11, "usr": 8, "util": 8, "v4": 8, "valid_valu": 2, "valu": [2, 4, 8, 11], "value_count": 4, "var": 4, "var_nam": 4, "var_valu": 4, "vari": 4, "variabl": [2, 4, 8], "variat": 4, "veget": 4, "vendor": 8, "versa": 9, "version": [3, 6, 8], "vice": 9, "view": [0, 3, 6], "w": 4, "w1505": 8, "wa": 2, "wai": 9, "want": [4, 10], "warn": 8, "warp": 4, "wateratm2lndbulk_inst": 8, "we": [2, 4, 5, 9, 10], "well": [5, 10], "were": [3, 6], "wetland": 2, "where": [4, 8, 11], "which": [2, 3, 6, 8], "wind_hgt_canyon": 4, "winter": 1, "within": [2, 4], "without": 10, "work": [6, 7, 8, 10], "work_root": [8, 11], "workdir": 7, "workflow": 9, "workshop": 1, "workstat": 8, "wp": [1, 6, 9], "wpsinput_dir": 7, "wpsname": 8, "wrf": [0, 7, 9], "wrf2cl_land": 7, "wrf2clm_land": 7, "wrf2clm_lnd_noneg": 7, "wrf2clm_lnd_noneg_wrf2clm_ocn_noneg": [7, 11], "wrf2clm_map": 7, "wrf2clm_ocean": 7, "wrf2clm_ocn_noneg": 7, "wrf_bash": 11, "wrf_ctsm_mkfile": 8, "wrf_dir": 8, "wrf_em_cor": 8, "wrf_file": 8, "wrf_gm3d": [7, 10], "wrf_root": [2, 7, 8, 11], "wrf_src_root_dir": 8, "wrfarchive_dir": 11, "wrfbdy": 10, "wrfbdy_d01": 9, "wrfbdy_d02": 9, "wrfdomainwizard": 7, "wrfinput": 10, "wrfinput_d01": 9, "wrfinput_d02": 9, "wrfinput_dir": [7, 11], "wrfio_ncd_large_file_support": 8, "wrfname": [2, 7, 8, 11], "wrfndi_d02": 9, "wrfnoleap": [7, 8], "wrfout_d03_": 9, "wrfrst_d01_2022": 10, "wrftladj": 8, "wrfv4": 6, "write": [2, 8], "written": 8, "wtlunit_roof": 4, "wtroad_perv": 4, "x": 8, "xarrai": 4, "xml": [2, 4, 8, 11], "xr": 4, "y": [1, 2, 8], "year": [4, 7], "yesno": 8, "you": [0, 3, 6, 11], "your": 11, "yuan": 0, "yuansun": [7, 8, 10, 11], "z": [], "z0param_method": 2, "zero": [4, 8], "zhao": [], "zheng": [], "zlib": [8, 11], "zlibdir": [8, 11], "zone": [1, 2]}, "titles": ["Homepage", "Introduction", "1 Code Modification", "CESM-LCZ User Guide", "2 Surface Input", "3 Simulation", "WRF-CTSM User Guide", "2 Input Data", "1 Installation", "4 Nest Simulation", "5 Restart Simulation", "3 Simulation"], "titleterms": {"005": 2, "1": [2, 4, 7, 8, 10, 11], "2": [2, 4, 7, 8, 10, 11], "3": [4, 5, 7, 8, 10, 11], "4": [4, 7, 9], "5": [7, 10], "6": 7, "7": 7, "A": 7, "For": 1, "albedo": 1, "assign": 4, "base": 2, "box": 4, "build": 8, "calcul": 4, "cell": 4, "cesm": [1, 3], "check": 8, "code": [2, 8], "collabor": 1, "construct": 4, "content": 0, "coupl": 1, "cover": 1, "create_scrip_fil": 7, "ctsm": [1, 2, 4, 6, 8, 10, 11], "ctsm5": 2, "data": [5, 7, 10], "dataset": 4, "default": 4, "defin": 7, "dev": [], "document": [], "domain": 7, "download": [2, 8], "environ": 8, "esm": [], "ex": 10, "file": 2, "fit": 4, "flux": 1, "fraction": 4, "gen_domain": 7, "gen_mksurfdata_namelist": 7, "geo_domain": 8, "grid": 4, "guid": [3, 6], "heat": 1, "help": 1, "homepag": 0, "implement": [], "initi": 5, "input": [4, 7, 11], "inquiri": 1, "instal": 8, "introduct": 1, "job": 5, "land": [1, 4], "lcz": [1, 3, 4], "librari": 8, "lilac_in": 10, "link": 1, "lnd_in": 10, "make_runtime_input": 11, "manipul": 10, "manual": 2, "mksurfdata_esmf": [7, 8], "mkunitymap": 7, "model": [1, 8], "modif": 2, "modifi": [2, 5, 8, 10, 11], "namelist": 11, "ncl": 7, "nest": 9, "option": 8, "paramet": 4, "prepar": [4, 8], "prescrib": 1, "real": 10, "replac": 2, "repres": 1, "represent": [], "restart": 10, "run": [7, 10, 11], "script": 5, "set": [8, 10], "simul": [5, 9, 10, 11], "singl": 7, "sourc": [2, 8], "specif": 2, "support": 1, "surfac": [4, 5], "traffic": 1, "transient": 1, "tranurbalb": 1, "urban": [1, 4], "us": [1, 2], "user": [3, 6], "version": 2, "wp": [7, 8], "wrf": [1, 6, 8, 10, 11]}})